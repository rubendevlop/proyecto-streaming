/* ===== Paleta mínima ===== */
:root {
    --brand: #6c63ff;     /* violeta */
    --ink:   #1f2937;     /* gris oscuro */
    --muted: #e5e7eb;     /* gris claro */
    --card:  #ffffff;     /* fondo tarjeta */
    --backdrop: rgba(17, 24, 39, .65); /* backdrop modal */
  }
  
  /* ===== Reset leve ===== */
  html, body { background: #fff; color: var(--ink); }
  
  /* ===== Contenedor principal del carrusel ===== */
  .carousel-wrap{
    position: relative; /* para posicionar las flechas únicas encima */
  }
  
  /* ===== Carrusel horizontal (una sola fila) ===== */
  .snap-strip{
    display: flex;
    gap: 1rem;
    overflow-x: auto;                 /* scroll horizontal */
    overscroll-behavior-x: contain;
    scroll-snap-type: x mandatory;    /* encastre por item */
    scroll-padding-inline: 1rem;
    scroll-behavior: smooth;          /* desplazamiento suave */
    padding: 1rem;
    margin-inline: -0.5rem;           /* que respire al borde en mobile */
  }
  
  /* Ocultar barra de scroll visual (sin JS) */
  .snap-strip::-webkit-scrollbar{ display: none; }
  .snap-strip{ -ms-overflow-style: none; scrollbar-width: none; }
  
  /* Cada tarjeta */
  .snap-item{
    flex: 0 0 auto;
    scroll-snap-align: center;
    width: min(82vw, 360px);          /* responsive: ocupa casi la pantalla en mobile */
  }
  
  .snap-card{
    border: 1px solid var(--muted);
    border-radius: 1rem;
    overflow: hidden;
    background: var(--card);
    box-shadow: 0 6px 24px rgba(0,0,0,.06);
    transition: transform .25s ease, box-shadow .25s ease;
  }
  .snap-card:hover{
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0,0,0,.10);
  }
  
  .snap-card img{
    display: block;
    width: 100%;
    height: 220px;
    object-fit: cover;
  }
  .modal-link{ display:block; }
  
  .caption{
    padding: .75rem 1rem;
    font-size: .95rem;
  }
  
  /* ===== Controles ÚNICOS (en el contenedor) ===== */
  .controls{
    pointer-events: none; /* evita tap en overlay, salvo en las flechas */
  }
  .controls .ctrl-pair{
    display: none;        /* por defecto oculto; se muestra según :target */
    position: absolute;
    inset: 0;             /* ocupa el área del carrusel para centrar verticalmente */
  }
  .controls .arrow{
    pointer-events: auto; /* re-habilita el click */
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 2.75rem;
    height: 2.75rem;
    border-radius: 999px;
    display: grid;
    place-items: center;
    text-decoration: none;
    background: var(--brand);
    color: #fff;
    border: 0;
    box-shadow: 0 2px 12px rgba(108, 99, 255, .35);
    transition: filter .15s ease, transform .15s ease;
  }
  .controls .arrow:hover{
    filter: brightness(.95);
  }
  .controls .arrow.prev{ left: .5rem; }
  .controls .arrow.next{ right: .5rem; }
  
  /* Mostrar el par de flechas correcto con :has() */
  /* Fallback: si no hay :target, asumimos s1 */
  body:not(:has(:target)) .carousel-wrap .controls .ctrl-pair.s1{ display: block; }
  
  /* Cuando el objetivo (slide visible) cambia, mostramos su par correspondiente */
  .carousel-wrap:has(#s1:target)  .controls .ctrl-pair.s1{  display: block; }
  .carousel-wrap:has(#s2:target)  .controls .ctrl-pair.s2{  display: block; }
  .carousel-wrap:has(#s3:target)  .controls .ctrl-pair.s3{  display: block; }
  .carousel-wrap:has(#s4:target)  .controls .ctrl-pair.s4{  display: block; }
  .carousel-wrap:has(#s5:target)  .controls .ctrl-pair.s5{  display: block; }
  .carousel-wrap:has(#s6:target)  .controls .ctrl-pair.s6{  display: block; }
  
  .carousel-wrap:has(#s1b:target) .controls .ctrl-pair.s1b{ display: block; }
  .carousel-wrap:has(#s2b:target) .controls .ctrl-pair.s2b{ display: block; }
  .carousel-wrap:has(#s3b:target) .controls .ctrl-pair.s3b{ display: block; }
  .carousel-wrap:has(#s4b:target) .controls .ctrl-pair.s4b{ display: block; }
  .carousel-wrap:has(#s5b:target) .controls .ctrl-pair.s5b{ display: block; }
  .carousel-wrap:has(#s6b:target) .controls .ctrl-pair.s6b{ display: block; }
  
  /* ======= Ajustes mínimos para modales ======= */
  
  /* Indicar que las imágenes son clickeables */
  .snap-card img { cursor: pointer; }
  
  /* Imagen responsiva y limitada en altura dentro del modal */
  .modal-img {
    width: 100%;
    height: auto;
    max-height: 75vh;
    object-fit: cover;
  }
  
  /* (opcional) Ajustar el backdrop usando tu variable */
  .modal-backdrop.show {
    background-color: var(--backdrop);
  }
  